# Incognitart

Анонимная доска для публикации своих пиксель артов и просмотра/оценки чужих!

> Проект-шаблон монорепозитория с `React` и `FastAPI`, запускающийся с `docker compose`.

## Структура проекта:
```
.
├── backend
├── frontend
└── docker-compose.dev.yml
```
Все просто!

## Запуск проекта

### Необходимые зависимости
Общие:
- [docker](https://www.docker.com/) - программная платформа для создания, развертывания и управления приложениями с помощью контейнеров.

Для разработки (нужно установить только нужное):
- [uv](https://docs.astral.sh/uv/) - быстрый менеджер пакетов и виртуальных окружений для `Python`, написанный на `Rust`. 
- [pnpm](https://pnpm.io/) - менеджер пакетов для `JavaScript` и `Node.js`.

### Шаги
**1. Склонируйте репозиторий**
```
git clone git@github.com:Kreoniz/incognitart.git
cd incognistart
```
**2. Добавьте нужные переменные окружения**

Решение проблемы с правами файлов при запуске `docker`
```
UID=<your-uid>  # Выполните `id -u` в терминале
GID=<your-gid>  # Выполните `id -g` в терминале
```
Даем нашему фронтенду знать про наш бэкенд
```
echo "VITE_API_URL=http://localhost:8000" > ./frontend/.env
```
**3. Запустите нужный `docker compose` конфиг**
```
docker compose -f docker-compose.dev.yml up
```
Подождите и вуаля! Проект запущен! При следующем запуске процесс намного быстрее

Посмотреть можно на портах [5173 (фронтенд)](http://localhost:5173) и [8000 (бэкенд)](http://localhost:8000/docs).

## Разработка

### Бэкенд
При разработке с `docker-compose.dev.yml` зависимости устанавливаются так:
```
docker compose exec backend uv add <название зависимости>
                    ^ название контейнера
```

### Фронтенд
При разработке с `docker-compose.dev.yml` зависимости устанавливаются как обычно:
```
pnpm add <название зависимости>
```
